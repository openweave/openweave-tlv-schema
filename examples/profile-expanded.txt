Common => Vendor [ id 0 ]

namespace weave.profiles {

device-description => PROFILE [ id Common:0x000E ]
{
  /** Locate a device and query its description.
   */
  identify-request => MESSAGE [ id 1 ] CONTAINING NOTHING
  
  /** Returned by a device in response to an Idenfity Request.
   */
  identify-response => MESSAGE [ id 2 ] CONTAINING device-descriptor

  /** Structure containing information describing a Weave device. 
   */
  device-descriptor [ *:1 ] => STRUCTURE [ extensible, tag-order ] 
  {
    includes product-fields,

    manufacturing-date [3,opt]                 : UNSIGNED INTEGER [range 16bits],
    serial-number [4]                          : STRING [len 1..32],
    primary-15-4-mac-address [5,opt]           : BYTE STRING [len 8],
    primary-wifi-mac-address [6,opt]           : BYTE STRING [len 6],
    rendezvous-wifi-essid [7,opt]              : STRING [len 1..32],
    pairing-code [8,opt]                       : STRING [len 1..16],
    software-version [9,opt]                   : STRING [len 1..32],
    device-id [10,opt]                         : UNSIGNED INTEGER [range 64bits],
    fabric-id [11,opt]                         : UNSIGNED INTEGER [range 64bits],
    pairing-compat-ver-major [12,opt]          : UNSIGNED INTEGER [range 1..0xFFFF],
    pairing-compat-ver-minor [13,opt]          : UNSIGNED INTEGER [range 1..0xFFFF],
    rendezvous-wifi-essid-suffix [14,opt]      : STRING [len 1..32],
    feature-home-alarm-link-capable [100,opt]  : BOOLEAN,
    feature-line-powered [101,opt]             : BOOLEAN,
  }
  
  /** Group of fields describing a device type and vendor.
   */
  product-fields => FIELD GROUP
  {
    vendor-id [0]                              : UNSIGNED INTEGER [range 1..0xFFFE],
    product-id [1]                             : UNSIGNED INTEGER [range 1..0xFFFE],
    product-revision [2,opt]                   : UNSIGNED INTEGER [range 1..0xFFFF],
  }

  /** An invalid argument was present in an Identify Request.
   */
  InvalidArgument => STATUS CODE [ id 0x42 ] 
}

} // namespace weave.profiles
